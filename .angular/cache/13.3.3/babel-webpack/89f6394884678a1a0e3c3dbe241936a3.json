{"ast":null,"code":"// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { BaseRequestPolicy } from \"./requestPolicy\";\n/**\n * Creates a policy that assigns a unique request id to outgoing requests.\n * @param requestIdHeaderName - The name of the header to use when assigning the unique id to the request.\n */\n\nexport function generateClientRequestIdPolicy(requestIdHeaderName = \"x-ms-client-request-id\") {\n  return {\n    create: (nextPolicy, options) => {\n      return new GenerateClientRequestIdPolicy(nextPolicy, options, requestIdHeaderName);\n    }\n  };\n}\nexport class GenerateClientRequestIdPolicy extends BaseRequestPolicy {\n  constructor(nextPolicy, options, _requestIdHeaderName) {\n    super(nextPolicy, options);\n    this._requestIdHeaderName = _requestIdHeaderName;\n  }\n\n  sendRequest(request) {\n    if (!request.headers.contains(this._requestIdHeaderName)) {\n      request.headers.set(this._requestIdHeaderName, request.requestId);\n    }\n\n    return this._nextPolicy.sendRequest(request);\n  }\n\n} //# sourceMappingURL=generateClientRequestIdPolicy.js.map","map":null,"metadata":{},"sourceType":"module"}