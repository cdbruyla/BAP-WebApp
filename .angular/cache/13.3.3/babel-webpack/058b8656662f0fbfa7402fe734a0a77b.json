{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\GitHub\\\\Private\\\\Angular_WebApp\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\n// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\n/**\n * The programmatic identifier of the ndJsonPolicy.\n */\nexport const ndJsonPolicyName = \"ndJsonPolicy\";\n/**\n * ndJsonPolicy is a policy used to control keep alive settings for every request.\n */\n\nexport function ndJsonPolicy() {\n  return {\n    name: ndJsonPolicyName,\n\n    sendRequest(request, next) {\n      return _asyncToGenerator(function* () {\n        // There currently isn't a good way to bypass the serializer\n        if (typeof request.body === \"string\" && request.body.startsWith(\"[\")) {\n          const body = JSON.parse(request.body);\n\n          if (Array.isArray(body)) {\n            request.body = body.map(item => JSON.stringify(item) + \"\\n\").join(\"\");\n          }\n        }\n\n        return next(request);\n      })();\n    }\n\n  };\n}","map":{"version":3,"sources":["C:/GitHub/Private/Angular_WebApp/node_modules/@azure/core-rest-pipeline/dist-esm/src/policies/ndJsonPolicy.js"],"names":["ndJsonPolicyName","ndJsonPolicy","name","sendRequest","request","next","body","startsWith","JSON","parse","Array","isArray","map","item","stringify","join"],"mappings":";AAAA;AACA;;AACA;AACA;AACA;AACA,OAAO,MAAMA,gBAAgB,GAAG,cAAzB;AACP;AACA;AACA;;AACA,OAAO,SAASC,YAAT,GAAwB;AAC3B,SAAO;AACHC,IAAAA,IAAI,EAAEF,gBADH;;AAEGG,IAAAA,WAAN,CAAkBC,OAAlB,EAA2BC,IAA3B,EAAiC;AAAA;AAC7B;AACA,YAAI,OAAOD,OAAO,CAACE,IAAf,KAAwB,QAAxB,IAAoCF,OAAO,CAACE,IAAR,CAAaC,UAAb,CAAwB,GAAxB,CAAxC,EAAsE;AAClE,gBAAMD,IAAI,GAAGE,IAAI,CAACC,KAAL,CAAWL,OAAO,CAACE,IAAnB,CAAb;;AACA,cAAII,KAAK,CAACC,OAAN,CAAcL,IAAd,CAAJ,EAAyB;AACrBF,YAAAA,OAAO,CAACE,IAAR,GAAeA,IAAI,CAACM,GAAL,CAAUC,IAAD,IAAUL,IAAI,CAACM,SAAL,CAAeD,IAAf,IAAuB,IAA1C,EAAgDE,IAAhD,CAAqD,EAArD,CAAf;AACH;AACJ;;AACD,eAAOV,IAAI,CAACD,OAAD,CAAX;AAR6B;AAShC;;AAXE,GAAP;AAaH","sourcesContent":["// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n/**\n * The programmatic identifier of the ndJsonPolicy.\n */\nexport const ndJsonPolicyName = \"ndJsonPolicy\";\n/**\n * ndJsonPolicy is a policy used to control keep alive settings for every request.\n */\nexport function ndJsonPolicy() {\n    return {\n        name: ndJsonPolicyName,\n        async sendRequest(request, next) {\n            // There currently isn't a good way to bypass the serializer\n            if (typeof request.body === \"string\" && request.body.startsWith(\"[\")) {\n                const body = JSON.parse(request.body);\n                if (Array.isArray(body)) {\n                    request.body = body.map((item) => JSON.stringify(item) + \"\\n\").join(\"\");\n                }\n            }\n            return next(request);\n        },\n    };\n}\n"]},"metadata":{},"sourceType":"module"}